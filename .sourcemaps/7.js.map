{"version":3,"sources":["../../src/pages/activities/activities.module.ts","../../src/pages/activities/activities.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivitiesPage } from './activities';\n\n@NgModule({\n  declarations: [\n    ActivitiesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivitiesPage),\n  ],\n})\nexport class ActivitiesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activities/activities.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, AlertController, NavParams } from 'ionic-angular';\nimport { ActivityItemViewPage } from '../activity-item-view/activity-item-view';\nimport { ActivitiesProvider } from '../../providers/activities/activities';\nimport { StorageProvider } from '../../providers/storage/storage';\n@IonicPage()\n@Component({\n  selector: 'page-activities',\n  templateUrl: 'activities.html',\n})\nexport class ActivitiesPage {\n  activities: any;\n  storeID: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private activitiesProvider: ActivitiesProvider,\n    public storageProvider: StorageProvider,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController) {\n    // this.activities = [{\n    //   \"date\": \"2017-11-12\",\n    //   \"name\": \"实况足球17体验活动\",\n    //   \"image\": \"https://storeapp.blob.core.chinacloudapi.cn/images/pes-activity.jpg\",\n    //   \"status\": \"准备中\",\n    //   \"desc\": \"这次线下活动邀请了各路2K大神前来，希望门店好好利用他们做好宣传展示工作。\",\n    //   \"result\": {\n    //     \"attend\": 2000,\n    //     \"join\": 220,\n    //     \"live\": 20000,\n    //     \"playersPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-3.jpeg\"],\n    //     \"spectatorPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"],\n    //     \"advertisePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"],\n    //     \"liverPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/winner.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-2.jpeg\"],\n    //     \"supporterPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"]\n    //   },\n    //   \"prepare\": {\n    //     \"storePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"],\n    //     \"shelvesPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/shelves.jpeg\"],\n    //     \"storeShowPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/material.png\"]\n    //   }\n    // }, {\n    //   \"date\": \"2017-10-12\",\n    //   \"name\": \"NBA2K18线下比赛\",\n    //   \"image\": \"https://storeapp.blob.core.chinacloudapi.cn/images/nba2k18-activity.jpg\",\n    //   \"status\": \"准备中\",\n    //   \"desc\": \"这次线下活动邀请了各路2K大神前来，希望门店好好利用他们做好宣传展示工作。\",\n    //   \"result\": {\n    //     \"attend\": 2000,\n    //     \"join\": 220,\n    //     \"live\": 20000,\n    //     \"playersPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-3.jpeg\"],\n    //     \"spectatorPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-2.jpeg\"],\n    //     \"advertisePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"],\n    //     \"liverPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-1.jpeg\"],\n    //     \"supporterPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"]\n    //   },\n    //   \"prepare\": {\n    //     \"storePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"],\n    //     \"shelvesPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/shelves.jpeg\"],\n    //     \"storeShowPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"]\n    //   }\n    // }, {\n    //   \"date\": \"2017-01-20\",\n    //   \"name\": \"拳皇14中国区总决赛\",\n    //   \"status\": \"已结束\",\n    //   \"image\": \"https://storeapp.blob.core.chinacloudapi.cn/images/nba2k18-activity.jpg\",\n    //   \"desc\": \"拳皇14中国区总决赛将产生3位选手晋级世界总决赛，比赛在繁华的静安区举行，希望门店到时候准备好各种物料，配合直播和比赛工作\",\n    //   \"result\": {\n    //     \"attend\": 2000,\n    //     \"join\": 220,\n    //     \"live\": 20000,\n    //     \"playersPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-3.jpeg\"],\n    //     \"spectatorPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-2.jpeg\"],\n    //     \"advertisePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/ad-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/ad-2.jpeg\"],\n    //     \"liverPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-1.jpeg\"],\n    //     \"supporterPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"]\n    //   },\n    //   \"prepare\": {\n    //     \"storePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"],\n    //     \"shelvesPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/shelves.jpeg\"],\n    //     \"storeShowPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"]\n    //   }\n    // }, {\n    //   \"date\": \"2016-10-20\",\n    //   \"name\": \"拳皇14争霸赛\",\n    //   \"status\": \"已结束\",\n    //   \"image\": \"https://storeapp.blob.core.chinacloudapi.cn/images/nba2k18-activity.jpg\",\n    //   \"desc\": \"作为拳皇14的代理商，这次比赛会带来很多的客流，希望门店做好的设备摆放，宣传背板按照规定摆放。\",\n    //   \"result\": {\n    //     \"attend\": 2000,\n    //     \"join\": 220,\n    //     \"live\": 20000,\n    //     \"playersPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-3.jpeg\"],\n    //     \"spectatorPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-2.jpeg\"],\n    //     \"advertisePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/ad-1.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/ad-2.jpeg\"],\n    //     \"liverPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/live-1.jpeg\"],\n    //     \"supporterPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/support.jpeg\", \"https://storeapp.blob.core.chinacloudapi.cn/images/activities/player-2.png\"]\n    //   },\n    //   \"prepare\": {\n    //     \"storePics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/storehead.jpeg\"],\n    //     \"shelvesPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/shelves.jpeg\"],\n    //     \"storeShowPics\": [\"https://storeapp.blob.core.chinacloudapi.cn/images/activities/material.png\"]\n    //   }\n    // }];\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ActivitiesPage');\n  }\n\n  ionViewWillEnter() {\n    this.activitiesProvider.query(\"events\").subscribe((activities) => {\n      this.activities = activities.map((item) => {\n        let status = \"未开始\";\n        // console.log(new Date(item.EventTime));\n        const currentDate = new Date();\n        // console.log(currentDate);\n        if (new Date(item.StartDate) > currentDate) {\n          // 活动未开始\n        }\n        else if (currentDate > new Date(item.EndDate)) {\n          // 活动已结束\n          status = \"已结束\";\n        } else {\n          // 活动进行中\n          status = \"进行中\";\n        }\n        return {\n          \"date\": item.EventTime.slice(0, 10),\n          \"name\": item.EventSubject,\n          \"status\": status,\n          \"image\": item.EventPromoPicUrl,\n          \"desc\": item.EventDesc,\n          \"id\": item.ID\n        }\n      });\n    }, (error) => {\n      console.log(error);\n    });\n\n    // 获取店铺信息\n    this.storageProvider.getStoreID().then((val) => {\n      console.log(\"获取店铺信息：\", val);\n      this.storeID = val;\n    });\n  }\n\n  doViewDetail(item) {\n    // console.log(item);\n    this.navCtrl.push(ActivityItemViewPage, { item: item, storeID: this.storeID });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activities/activities.ts"],"sourceRoot":""}